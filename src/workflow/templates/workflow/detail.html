{% extends 'base.html' %}

{% load static %}
{% load crispy_forms_tags %}

{% block scripts %}
  <script src="{% static 'workflow/js/workflow.js' %}"></script>
{% endblock %}

{% block title %}{{ block.super }}{{ workflow.name }}{% endblock %}

{% block container %}
<div align="center" class="container">
  <h1 class="page-header">Workflow Details</h1>

  <div style="display: inline-block;" id="workflow-table">
    {% include 'workflow/includes/workflow_detail_buttons.html' %}
    <p>Name: {{ workflow.name }}</p>
    <p class="help-block">Description: {{ workflow.description_text }}</p>
    <p class="help-block">Created: {{ workflow.created }}</p>
    {% if table_info %}
      <p class="help-block">{{ table_info.num_rows }} rows, {{ table_info.num_cols }} columns</p>

      <table class="table table-bordered" id="workflow-detail">
        <thead>
          <tr>
            <th class="text-center">#</th>
            <th class="text-center">Colum </th>
            <th class="text-center">Type</th>
            <th class="text-center">Key?</th>
            <th class="text-center">Operations</th>
          </tr>
        </thead>
        <tbody>
          {% for item in table_info.column_info %}
            <tr>
              <td class="text-center">{{ forloop.counter }}</td>
              <td class="text-center">{{ item.0 }}</td>
              <td class="text-center">{{ item.1 }}</td>
              <td class="text-center">{% if item.2 %}Yes{% endif %}</td>
              <td>
                <!--
                <button type="button" class="btn btn-sm btn-danger">
                  <span class="glyphicon glyphicon-remove"></span>
                </button> -->
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p class="label-warning">The workflow does not have any data.</p>
      <p>Go to <a href="{% url 'dataops:list' %}">DataOps</a> to upload data</p>
    {% endif %}
    {% include 'workflow/includes/workflow_detail_buttons.html' %}
  </div>

  <div class="modal fade" id="modal-item">
    <div class="modal-dialog">
      <div class="modal-content">
      </div>
    </div>
  </div>

</div>

{% endblock container %}




